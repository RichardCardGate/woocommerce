(()=>{"use strict";let e=window.wc.wcBlocksRegistry,t=window.wp.i18n,a=window.wc.wcSettings,o=window.wp.htmlEntities,n=window.React,c=(window.JSON,(0,a.getSetting)("cardgateonlineueberweisen_data",{})),l=(0,t.__)("Online-\xdcberweisen","wc_payment_method_cardgateonlineueberweisen"),s=(0,o.decodeEntities)(c.title)||l,m=e=>{let[t,a]=(0,n.useState)(""),{eventRegistration:l,emitResponse:s}=e,{onPaymentSetup:m}=l;return n.useEffect(()=>{let t=(e,t)=>{var a,o,n="<span class='wc-block-formatted-money-amount wc-block-components-formatted-money-amount wc-block-components-totals-item__value'>"+(t+e)+"</span>";jQuery(".wc-block-components-totals-footer-item .wc-block-formatted-money-amount:first").replaceWith(n)},a=(e,t)=>{var a,o,n="<span class='wc-block-formatted-money-amount wc-block-components-formatted-money-amount wc-block-components-totals-item__value'>"+(t+e)+"</span>";jQuery("div.wp-block-woocommerce-checkout-order-summary-taxes-block.wc-block-components-totals-wrapper > div > span.wc-block-formatted-money-amount.wc-block-components-formatted-money-amount.wc-block-components-totals-item__value:first").replaceWith(n)};jQuery.ajax({url:c.feeUrl,method:"POST",data:{action:"wp_ajax_cardgate_checkout_fees",method:e.activePaymentMethod},complete:function e(t,a){},success:function e(o,n,c){let l=jQuery(".wc-block-components-totals-fees");if(o.data.amount){let s="<div class='wc-block-components-totals-item wc-block-components-totals-fees'><span class='wc-block-components-totals-item__label'>"+o.data.name+"</span><span class='wc-block-formatted-money-amount wc-block-components-formatted-money-amount wc-block-components-totals-item__value'>"+o.data.currency+o.data.amount.toFixed(2).replace(".",",")+"</span><div class='wc-block-components-totals-item__description'></div></div>";l.length?(l.replaceWith(s),t(o.data.newTotal.toFixed(2).replace(".",","),o.data.currency),a(o.data.totalTax.toFixed(2).replace(".",","),o.data.currency)):(jQuery(".wc-block-components-totals-item:first").after(s),t(o.data.newTotal.toFixed(2).replace(".",","),o.data.currency),a(o.data.totalTax.toFixed(2).replace(".",","),o.data.currency))}else null==l||l.hide(),t(o.data.newTotal.toFixed(2).replace(".",","),o.data.currency),a(o.data.totalTax.toFixed(2).replace(".",","),o.data.currency)},error:function e(t,a,o){console.warn(a,o)}})}),n.createElement("div",null,(0,o.decodeEntities)(c.description||""))},r={name:"cardgateonlineueberweisen",label:n.createElement(e=>{var t=n.createElement("img",{src:c.icon,width:28,height:24,style:{display:"inline"}});return c.show_icon||(t=null),n.createElement("span",{className:"wc-block-components-payment-method-label wc-block-components-payment-method-label--with-icon"},t,(0,o.decodeEntities)(c.title)||l)},null),content:n.createElement(m,null),edit:n.createElement(m,null),icons:null,canMakePayment:e=>!0,ariaLabel:s,supports:{features:n.supports}};(0,e.registerPaymentMethod)(r)})();